"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[740],{6740:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});var d=t(6213),l=t(5043),i=t(579);function a(e){var s,t,a,n,r,c,o,x,v,m,h,u,j,p;document.body.style.backgroundColor="#f6f6f6";const[f,w]=(0,l.useState)([]),[N,y]=(0,l.useState)([]),[b,g]=(0,l.useState)([]),[D,T]=(0,l.useState)({}),O="https://backenddata77720.onrender.com",S=()=>({headers:{authtoken:localStorage.getItem("token")}});(0,l.useEffect)((()=>{(async()=>{try{const e=await d.A.get(`${O}/api/product/top5products`,S());w(e.data)}catch(e){console.error("Error fetching top products",e)}})(),(async()=>{try{const e=await d.A.get(`${O}/api/order/top5states`,S());y(e.data)}catch(e){console.error("Error fetching top states",e)}})(),k(),(async()=>{try{const e=await d.A.get(`${O}/api/order/top5pincode/rto-dto`,S());g(e.data)}catch(e){console.error("Error fetching top pincode",e)}})()}),[]);const k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const t={authtoken:localStorage.getItem("token")},l=await d.A.get(`${O}/api/order/totalorders`,{headers:t,params:{startDate:e,endDate:s}});T(l.data)}catch(t){console.error("Error fetching total orders",t)}},[C,F]=(0,l.useState)("Today"),[R,I]=(0,l.useState)(!1),[E,L]=(0,l.useState)(!1),[_,A]=(0,l.useState)(""),[P,$]=(0,l.useState)(""),U=(0,l.useRef)(null),z=e=>{F(e),I("Custom"===e),L(!1);const s=new Date;let t,d;switch(e){case"Today":t=d=s.toISOString().split("T")[0];break;case"Last7Days":t=new Date(s.setDate(s.getDate()-7)).toISOString().split("T")[0],d=(new Date).toISOString().split("T")[0];break;case"Last30Days":t=new Date(s.setDate(s.getDate()-30)).toISOString().split("T")[0],d=(new Date).toISOString().split("T")[0];break;default:t=d=""}k(t,d)},W=e=>{U.current&&!U.current.contains(e.target)&&L(!1)};return(0,l.useEffect)((()=>(document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)})),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:" md:w-[85%] lg:w-[90%]  w-[100%] px-[20px] mt-16 pb-8 ",children:[(0,i.jsx)("div",{className:"flex justify-between text-white  w-[100%]",children:(0,i.jsxs)("div",{className:"lg:text-xl text-lg font-bold",children:["Welcome ",(0,i.jsx)("span",{className:"text-yellow-500 capitalize",children:null===e||void 0===e||null===(s=e.userdata)||void 0===s?void 0:s.name}),","]})}),(0,i.jsx)("div",{className:"bg-[white] rounded-md mt-2 px-3 py-6"}),(0,i.jsxs)("div",{className:"space-y-5 pb-3 mt-3",children:[(0,i.jsxs)("div",{className:"flex gap-3 lg:flex-row flex-col",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-tl from-green-300 lg:w-[50%] px-5 py-3 via-green-600 text-white rounded-md to-green-500",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:()=>L(!E),children:"Select Date Range"}),E&&(0,i.jsxs)("div",{ref:U,className:"dropdown gap-5 absolute bg-gray-600 px-2 py-2 rounded-md flex ",children:[(0,i.jsxs)("div",{className:"flex   flex-col",children:[(0,i.jsx)("button",{onClick:()=>z("Today"),children:"Today"}),(0,i.jsx)("button",{onClick:()=>z("Last7Days"),children:"Last 7 Days"}),(0,i.jsx)("button",{onClick:()=>z("Last30Days"),children:"Last 30 Days"}),(0,i.jsx)("button",{onClick:()=>z("Custom"),children:"Custom"})]}),R&&(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("input",{className:"text-black",type:"date",value:_,onChange:e=>A(e.target.value)}),(0,i.jsx)("input",{className:"text-black",type:"date",value:P,onChange:e=>$(e.target.value)}),(0,i.jsx)("button",{onClick:()=>{F("Custom"),L(!1),I(!1),_&&P?k(_,P):console.error("Custom dates are not set properly")},children:"Apply Custom Dates"})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-4 mt-6",children:[(0,i.jsx)("div",{className:"flex justify-center w-[100%]",children:(0,i.jsx)("div",{className:"font-bold text-xl",children:"Sales"})}),(0,i.jsxs)("div",{className:"mt-3 space-y-2 lg:space-y-0",children:[(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Total Sales"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===D||void 0===D?void 0:D.totalOrders}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===D||void 0===D||null===(t=D.totalAmount)||void 0===t?void 0:t.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Cancel"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===D||void 0===D?void 0:D.totalCancelCount}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===D||void 0===D||null===(a=D.totalCancelamount)||void 0===a?void 0:a.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Net Proceed"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===D||void 0===D?void 0:D.netproced}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===D||void 0===D||null===(n=D.netprocedamount)||void 0===n?void 0:n.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Return"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===D||void 0===D?void 0:D.totalretrunCount}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===D||void 0===D||null===(r=D.totalreturnamount)||void 0===r?void 0:r.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Net Sale"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===D||void 0===D?void 0:D.netsale}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===D||void 0===D||null===(c=D.netsaleamount)||void 0===c?void 0:c.toFixed(2)]})]})]})]})]}),(0,i.jsxs)("div",{className:"lg:w-[50%]   ",children:[(0,i.jsx)("div",{className:"flex justify-between items-center",children:(0,i.jsx)("div",{className:"text-xl font-semibold",children:"Shipment Details"})}),(0,i.jsxs)("div",{className:"flex justify-between flex-wrap  ",children:[(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-gray-300  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===D||void 0===D?void 0:D.Unshipped}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",null===(o=(null===D||void 0===D?void 0:D.Unshipped)/(null===D||void 0===D?void 0:D.totalOrder)*100)||void 0===o?void 0:o.toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"Unshipped"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-red-300  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===D||void 0===D?void 0:D.InTransit}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",null===(x=(null===D||void 0===D?void 0:D.InTransit)/(null===D||void 0===D?void 0:D.totalOrder)*100)||void 0===x?void 0:x.toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"In-Transit"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-red-500  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===D||void 0===D?void 0:D.OFD}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",null===(v=(null===D||void 0===D?void 0:D.OFD)/(null===D||void 0===D?void 0:D.totalOrder)*100)||void 0===v?void 0:v.toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"OFD"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-green-300  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===D||void 0===D?void 0:D.Delivered}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",null===(m=(null===D||void 0===D?void 0:D.Delivered)/(null===D||void 0===D?void 0:D.totalOrder)*100)||void 0===m?void 0:m.toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"Delivered"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-yellow-500  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===D||void 0===D?void 0:D.RTO}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",null===(h=(null===D||void 0===D?void 0:D.RTO)/(null===D||void 0===D?void 0:D.totalOrder)*100)||void 0===h?void 0:h.toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"RTO"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-green-500  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===D||void 0===D?void 0:D.DTO}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",null===(u=(null===D||void 0===D?void 0:D.DTO)/(null===D||void 0===D?void 0:D.totalOrder)*100)||void 0===u?void 0:u.toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"DTO"})})]})]})]})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"flex  lg:justify-between lg:gap-0 gap-2 justify-center flex-wrap ",children:[(0,i.jsxs)("div",{className:"bg-white shadow-xl rounded-md  py-2 w-[49%] lg:w-[33%]",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"border-gray-300 px-3 py-2 font-semibold md:text-sm text-[13px] border-b-[1px]",children:"Top 5 Performing States"})}),(0,i.jsxs)("div",{className:"px-3 space-y-3",children:[(0,i.jsxs)("div",{className:"    md:text-[14px] text-[12px] flex justify-between",children:[(0,i.jsx)("div",{children:"State"}),(0,i.jsx)("div",{children:"totalorders  "})]}),null===N||void 0===N?void 0:N.map((e=>(0,i.jsxs)("div",{className:"flex  md:text-[14px] text-[12px] justify-between",children:[(0,i.jsx)("div",{children:e._id}),(0,i.jsx)("div",{children:e.totalOrders})]},e._id)))]})]}),(0,i.jsxs)("div",{className:"bg-white shadow-xl rounded-md  py-2 w-[49%] lg:w-[33%]",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"border-gray-300 px-3 py-2 font-semibold md:text-sm text-[13px]  border-b-[1px]",children:"Top 5 Products"})}),(0,i.jsxs)("div",{className:"px-3 space-y-3",children:[(0,i.jsxs)("div",{className:"flex  md:text-[14px] text-[12px] justify-between",children:[(0,i.jsx)("div",{children:"productname"}),(0,i.jsx)("div",{children:"totalsale  "}),(0,i.jsx)("div",{children:"instock"})]}),null===f||void 0===f?void 0:f.map((e=>(0,i.jsxs)("div",{className:"flex    md:text-[14px] text-[12px] justify-between",children:[(0,i.jsx)("div",{children:e.name}),(0,i.jsx)("div",{children:e.totalsale}),(0,i.jsx)("div",{children:e.purchasestock-e.instock})]},e._id)))]})]}),(0,i.jsxs)("div",{className:"bg-white shadow-xl rounded-md w-[100%]  py-2 md:w-[49%] lg:w-[33%]",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"border-gray-300 px-3 py-2 font-semibold md:text-sm text-[13px]  border-b-[1px]",children:"Top pincode (RTO/DTO)"})}),(0,i.jsxs)("div",{className:" w-[100%] flex",children:[(0,i.jsxs)("div",{className:"px-3  w-[50%]    border-r-[1px] border-gray-500 space-y-1",children:[(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("div",{children:"DTO"})}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:"Pincode"}),(0,i.jsx)("div",{children:"Total DTO"})]}),null===b||void 0===b||null===(j=b.top5DTOpincode)||void 0===j?void 0:j.map((e=>(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:e._id}),(0,i.jsx)("div",{children:e.totalDTO})]},e._id)))]}),(0,i.jsxs)("div",{className:"px-3 w-[50%] space-y-1",children:[(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("div",{children:"RTO"})}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:"Pincode"}),(0,i.jsx)("div",{children:"Total RTO"})]}),null===b||void 0===b||null===(p=b.top5RTOpincode)||void 0===p?void 0:p.map((e=>(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:e._id}),(0,i.jsx)("div",{children:e.totalRTO})]},e._id)))]})]})]})]})})]})]})})}}}]);
//# sourceMappingURL=740.335cac39.chunk.js.map