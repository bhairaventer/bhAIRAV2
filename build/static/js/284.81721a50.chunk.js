"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[284],{6284:(e,r,t)=>{t.r(r),t.d(r,{default:()=>n});var l=t(6213),s=t(5043),a=t(5475),i=t(2684),o=t(5369),d=t(7149),c=t(579);function n(e){var r,t,n;const{setexceldata:x,setsingleorderid:p,userrole:h}=(0,s.useContext)(i.A),{updateOrderStatus:u}=(0,s.useContext)(i.A),[m,b]=(0,s.useState)(!0),[w,v]=(0,s.useState)([]),[N,f]=(0,s.useState)(null),[j,g]=(0,s.useState)(1),[y,k]=(0,s.useState)(""),[S,C]=(0,s.useState)(!0);(0,s.useEffect)((()=>{z(j)}),[]);let[_,A]=(0,s.useState)({refundCondition:"",billno:"",refunddate:"",billdate:"",LRNO:"",shippingcharges:"",Trackingid:"",Courier:"",Deliverybydate:""});const L=()=>{j>1&&g((e=>{const r=e-1;return z(r),r}))},O=()=>{Math.ceil(y/10),S&&g((e=>{const r=e+1;return z(r),r}))},[P,D]=(0,s.useState)(null),[I,Q]=(0,s.useState)(""),[T,B]=(0,s.useState)("");const z=async e=>{let r=localStorage.getItem("token");try{const s=await l.A.get(`https://backenddata77720.onrender.com/api/order/fetchallordersforadmin/Cancel/${e}`,{method:"GET",headers:{authtoken:r}});var t;if(k(s.data.totalOrder),0===s.data.orders.length)C(!1),v(s.data);else await x(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.orders),v(s.data),C(!0);b(!1)}catch(N){f(N),b(!1)}},M=Math.ceil(y/10),R=(0,s.useRef)(null),[W,E]=(0,s.useState)(0);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:" ",children:[(0,c.jsxs)("div",{className:"  mt-3 w-[1300px] h-[510px]",children:[(0,c.jsxs)("div",{className:"bg-[#464646] flex sticky top-3 z-20  text-white mb-2  px-2 items-center lg: ",children:[(0,c.jsx)("div",{className:"  w-[100px]  px-3 py-1 ",children:"Bill No"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[120px]  px-3 py-1 ",children:"Bill Date"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[110px]  px-3 py-1 ",children:"Order Id"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[100px]  px-3 py-1 ",children:"Product"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[100px]  px-3 py-1 ",children:"Quntity"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[100px]  px-3 py-1 ",children:"Amount"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[100px]  px-3 py-1 ",children:"State"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[100px]  px-3 py-1 ",children:"Platform"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[150px]  px-3 py-1 ",children:"Courier"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[140px]  px-3 py-1 ",children:"Tracking ID"}),(0,c.jsx)("div",{className:"border-l-[1px] border-white w-[120px]  px-3 py-1 ",children:"LR NO."})]}),null===w||void 0===w||null===(r=w.orders)||void 0===r?void 0:r.map((e=>{let r=new Date(e.Billdate).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"});return r=r.split("/").join("-"),(0,c.jsxs)("div",{className:"bg-[#f2f2f2] flex   text-black   px-2 items-center ",children:[(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[100px] overflow-x-auto px-3 py-1 ",children:e.Billno}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[120px] overflow-x-auto px-3 py-1 ",children:r}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[110px] overflow-x-auto px-3 py-1 ",children:e.OrderId}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[100px] overflow-x-auto px-3 py-1 ",children:e.Product}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[100px] overflow-x-auto px-3 py-1 ",children:e.Quntity}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[100px] overflow-x-auto px-3 py-1 ",children:e.Salesamount}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[100px] overflow-x-auto px-3 py-1 ",children:e.State}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[100px] overflow-x-auto px-3 py-1 ",children:e.Platform.name}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[150px] overflow-x-auto px-3 py-1 ",children:e.courier}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[140px] overflow-x-auto px-3 py-1 ",children:e.trackingnumber}),(0,c.jsx)(a.N_,{to:"/home/Searchpage",onClick:()=>p(e._id),className:" w-[120px] overflow-x-auto px-3 py-1 ",children:e.Lrno}),P===e._id&&(0,c.jsx)("div",{className:" sticky right-0 flex gap-2     z-10",children:(0,c.jsxs)("div",{className:" top-[-19px]  absolute right-28  bg-white  border-black border-[1px] p-2  ",children:[(0,c.jsx)("div",{className:"opstion  ",children:(0,c.jsx)("option",{className:`text-[12px] cursor-pointer ${"neworder"==I&&"bg-blue-400"}`,onClick:()=>{var r,t;r="neworder",t=e._id,Q(r),B(t)},value:"neworder",children:"neworder"})}),(0,c.jsx)("div",{className:"flex justify-center mt-1",children:"Not Sent"!==I&&(0,c.jsx)("button",{className:"text-[10px] bg-blue-600 rounded-full   items-center   text-white px-2  ",onClick:()=>{(async(e,r)=>{await u(e,r,_),z(j)})(I,T)},children:"Update"})})]})}),(0,c.jsx)("div",{className:" sticky right-0 flex gap-2  bottom-2 z-10",children:(0,c.jsx)("div",{className:"bg-black rounded-full w-6 h-6 flex justify-center items-center  absolute bottom-3 right-16 text-white     text-[16px]  ",onClick:()=>(e=>{D((r=>r===e?null:e))})(e._id),children:(0,c.jsx)(d.Qxc,{})})})]},e._id)}))]}),(0,c.jsxs)("div",{className:"     fixed md:w-[80%]  lg:w-[85%]   w-[90%]  bottom-[-20px] ",children:[(0,c.jsxs)("div",{className:"text-white w-[100%] pb-5 flex gap-10 justify-center ",children:[1!==j?(0,c.jsxs)("button",{onClick:()=>{L()},className:"bg-blue-600 hover:bg-blue-700 w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md ",children:[" ",(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(o.vpL,{})," Previous"]})]}):(0,c.jsxs)("button",{disabled:!0,onClick:()=>{L()},className:"bg-blue-400   w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md ",children:[" ",(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(o.vpL,{})," Previous"]})]}),(0,c.jsx)("div",{className:"text-black border-black border-[1px] px-2 rounded-md",children:j}),j!==Math.ceil(y/10)?(0,c.jsxs)("button",{onClick:()=>{O()},className:"bg-blue-600 hover:bg-blue-700 w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md ",children:[" ",(0,c.jsxs)("div",{className:"flex items-center gap-2",children:["Next",(0,c.jsx)(o.QyA,{})]})," "]}):(0,c.jsxs)("button",{disabled:!0,onClick:()=>{O()},className:"bg-blue-400   w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md ",children:[" ",(0,c.jsxs)("div",{className:"flex items-center gap-2",children:["Next",(0,c.jsx)(o.QyA,{})]})," "]})]}),(0,c.jsx)("div",{className:"w-[100%] pb-5 flex gap-10  justify-center ",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("button",{onClick:()=>{if(R.current){const e=W-50;E(e),R.current.scrollTo({left:e,behavior:"smooth"})}},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 mb-2 py-1 rounded-md mr-2",disabled:W<=0,children:"<"}),(0,c.jsx)("div",{ref:R,className:"relative overflow-x-auto hide-scrollbar",style:{maxWidth:"150px",whiteSpace:"nowrap"},children:(0,c.jsx)("div",{className:"flex gap-2",children:function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const l=[];for(let s=e;s<r;s+=t)l.push(s);return l}(1,M+1).map((e=>(0,c.jsx)("div",{onClick:()=>{(e=>{S&&g((r=>{const t=e;return z(t),t}))})(e)},className:"border-black text-center cursor-pointer border-[1px] px-2",style:{width:50},children:e},e)))})}),(0,c.jsx)("button",{onClick:()=>{if(R.current){const e=W+50;E(e),R.current.scrollTo({left:e,behavior:"smooth"})}},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 mb-2 rounded-md ml-2",disabled:W>=(null===(t=R.current)||void 0===t?void 0:t.scrollWidth)-(null===(n=R.current)||void 0===n?void 0:n.clientWidth),children:">"})]})})]})]})})}}}]);
//# sourceMappingURL=284.81721a50.chunk.js.map